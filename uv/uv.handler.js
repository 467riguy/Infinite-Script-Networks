(()=>{var _=self.Ultraviolet,B=self.UVClient,S=self.__uv$config,h=self.__uv$bareData,p=self.__uv$bareURL,O=self.__uv$cookies;if(typeof h!="object"||typeof p!="string"||typeof O!="string")throw new TypeError("Unable to load global UV data");self.__uv||P(self);self.__uvHook=P;function P(o){if("__uv"in o&&o.__uv instanceof _)return!1;o.document&&o.window&&o.document.querySelectorAll("script[__uv-script]").forEach(t=>t.remove());let j=!o.window,k="__uv",l="__uv$",e=new _(S),r=new B(o),{HTMLMediaElement:y,HTMLScriptElement:U,HTMLAudioElement:L,HTMLVideoElement:T,HTMLInputElement:H,HTMLEmbedElement:$,HTMLTrackElement:W,HTMLAnchorElement:C,HTMLIFrameElement:m,HTMLAreaElement:A,HTMLLinkElement:I,HTMLBaseElement:R,HTMLFormElement:D,HTMLImageElement:v,HTMLSourceElement:N}=o;r.nativeMethods.defineProperty(o,"__uv",{value:e,enumerable:!1}),e.meta.origin=location.origin,e.location=r.location.emulate(t=>t==="about:srcdoc"?new URL(t):(t.startsWith("blob:")&&(t=t.slice(5)),new URL(e.sourceUrl(t))),t=>e.rewriteUrl(t));let u=O;e.meta.url=e.location,e.domain=e.meta.url.host,e.blobUrls=new o.Map,e.referrer="",e.cookies=[],e.localStorageObj={},e.sessionStorageObj={};let M=new _.BareClient(p,h);if(e.bareClient=M,e.location.href==="about:srcdoc"&&(e.meta=o.parent.__uv.meta),o.EventTarget&&(e.addEventListener=o.EventTarget.prototype.addEventListener,e.removeListener=o.EventTarget.prototype.removeListener,e.dispatchEvent=o.EventTarget.prototype.dispatchEvent),r.nativeMethods.defineProperty(r.storage.storeProto,"__uv$storageObj",{get(){if(this===r.storage.sessionStorage)return e.sessionStorageObj;if(this===r.storage.localStorage)return e.localStorageObj},enumerable:!1}),o.localStorage){for(let t in o.localStorage)t.startsWith(l+e.location.origin+"@")&&(e.localStorageObj[t.slice((l+e.location.origin+"@").length)]=o.localStorage.getItem(t));e.lsWrap=r.storage.emulate(r.storage.localStorage,e.localStorageObj)}if(o.sessionStorage){for(let t in o.sessionStorage)t.startsWith(l+e.location.origin+"@")&&(e.sessionStorageObj[t.slice((l+e.location.origin+"@").length)]=o.sessionStorage.getItem(t));e.ssWrap=r.storage.emulate(r.stor
//# sourceMappingURL=uv.handler.js.map
